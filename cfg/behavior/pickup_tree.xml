<root main_tree_to_execute = "AFL_BT">
  <BehaviorTree ID="AFL_BT">
    <Sequence name="PickupPallet">
      <DetectionClient
        name="DisableDetection"
        Operation="Disable"/>
      <ForkActionNode
        name="DropFork"
        TargetHeight="0.00"/>
      <DetectionClient
        name="EnableDetection"
        Operation="Enable"/>
      <SleepNode
        name="WaitForGoodPalletDetection"
        SleepTimeInSeconds="7.0"/>
      <WaitForPalletDetection
        name="WaitForPalletDetection"
        PalletTfName="pallet"
        MapTfName="map"
        PalletPose="{DetectedPalletPose}"/>
      <DetectionClient
        name="DisableDetection"
        Operation="Disable"/>
      <ForkActionNode
        name="RaiseForkToPalletHeight"
        PalletPose="{DetectedPalletPose}"
        PalletThickness="0.12"
        PalletBottomPadding="0.012"
        AscendingOvershootOffset="0.15"
        TickDescendHeight="{TickDescendHeight}"/>
      <ForkTickDescend
        name="ForkTickDescendToPalletHeight"
        TargetHeight="{TickDescendHeight}"
        TargetHeightOffset="0.008"/>
      <MoveActionNode
        name="ApproachPallet"
        TargetPose="{DetectedPalletPose}"
        TargetPoseOffset="0.45"/>
      <MoveActionNode
        name="InsertForkThroughPallet"
        TargetPose="{DetectedPalletPose}"
        TargetPoseOffset="-0.85"/>
      <SleepNode
        name="SleepBeforePalletPickup"
        SleepTimeInSeconds="1.0"/>
      <ForkActionNode
        name="PickupPallet"
        TargetHeightOffset="0.2"/>
      <MoveActionNode
        name="BackAway"
        TargetPose="{DetectedPalletPose}"
        TargetPoseOffset="1.15"/>
      <SleepNode
        name="SleepBeforeHeightDescend"
        SleepTimeInSeconds="1.0"/>
      <ForkActionNode
        name="LowerForkCloseToGround"
        TargetHeight="0.25"/>
    </Sequence>
  </BehaviorTree>
</root>
