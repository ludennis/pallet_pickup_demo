<launch>
  <include file="$(find afl_bringup)/launch/bringup_afl.launch"/>
  <include file="$(find afl_sensors)/launch/bringup_sensors.launch"/>

  <node pkg="map_server" type="map_server" name="map_server"
      args="$(find pallet_pickup_demo)/maps/qlab.yaml">
    <param name="frame_id" value="map"/>
  </node>

  <node pkg="soter_global_localization" type="soter_global_localization_node"
      name="soter_global_localization_node" output="screen">
    <rosparam command="load"
        file="$(find pallet_pickup_demo)/cfg/soter_global_localization.yaml"/>
  </node>

  <node pkg="soter_local_localization" type="soter_local_localization_node"
      name="soter_local_localization_node" output="screen">
    <rosparam command="load"
        file="$(find pallet_pickup_demo)/cfg/soter_local_localization.yaml"/>
  </node>

  <include file="$(find afl_teleop)/launch/afl_teleop_keyboard.launch"/>
  <node pkg="afl_local_planner" type="NaviController" name="navi_controller_node"
      output="screen"/>

  <include file="$(find pallet_pickup_demo)/launch/bringup_navigation.launch"/>

  <include file="$(find afl_detection)/launch/rs_l515_bringup.launch"/>
  <include file="$(find afl_detection)/launch/detection_ai.launch"/>

  <node pkg="rviz" type="rviz" name="rviz"
      args="-d $(find pallet_pickup_demo)/cfg/pallet_pickup_demo.rviz"/>
</launch>
